{"ast":null,"code":"var _this = this;\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { catchError, tap, throwError } from 'rxjs';\nvar VenteComponent = /** @class */function () {\n  function VenteComponent() {\n    this.showModal = \"none\";\n    this.result = null;\n  }\n  VenteComponent = __decorate([Component({\n    selector: 'app-vente',\n    templateUrl: './vente.component.html',\n    styleUrls: ['./vente.component.scss']\n  })], VenteComponent);\n  return VenteComponent;\n}();\nexport { VenteComponent };\n(function () {\n  _this.currentUser = _this.storageService.getUser();\n  _this.getvente();\n  _this.creditRequest = {\n    salaireMensuel: null,\n    mensualitesCredit: null\n  };\n  _this.vente = {\n    id: null,\n    personne3: {\n      username: null\n    },\n    article: null,\n    dateDisponibilite: null,\n    place: null,\n    contactNumber: null,\n    typeVente: null,\n    pictures: null,\n    prix: null\n  };\n  _this.creditForm = _this.formBuilder.group({\n    salaireMensuel: ['', Validators.required],\n    mensualitesCredit: [''],\n    prixVente: ['', Validators.required]\n  });\n});\nselectFile(event);\n{\n  this.selectedFiles = event.target.files;\n}\nupload(vente, any);\n{\n  this.currentFileUpload = this.selectedFiles.item(0);\n  vente.personne3 = this.storageService.getUser().id;\n  console.log(\"this.storageService.getUser().id \" + this.storageService.getUser().id);\n  this.venteachatService.addVente(this.currentFileUpload, vente).pipe(tap(function (response) {\n    vente.personne3 = response.user.id;\n    console.log('Response:', response);\n  }), catchError(function (error) {\n    console.log('Error:', error);\n    return throwError(error);\n  })).subscribe();\n}\ngetvente();\n{\n  this.venteachatService.getAcceptedVentes().subscribe(function (ventes) {\n    _this.acceptedVentes = ventes;\n  });\n  // this.vente.user.username=this.storageService.getUser().username;\n}\n\nopenModal();\n{\n  this.showModal = \"block\";\n}\ncloseModal();\n{\n  this.showModal = \"none\";\n}\ncalculate(idvente);\n{\n  var creditRequest = this.creditRequest;\n  this.venteachatService.calculerCapaciteCredit(creditRequest, idvente).subscribe(function (resultat) {\n    _this.zone.run(function () {\n      _this.resultatCalcul = resultat;\n    });\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}