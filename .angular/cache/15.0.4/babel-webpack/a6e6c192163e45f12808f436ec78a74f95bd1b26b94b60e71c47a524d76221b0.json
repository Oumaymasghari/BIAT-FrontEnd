{"ast":null,"code":"import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { UserService } from '../user/user.service';\nimport { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../user/user.service\";\nvar VenteachatService = /** @class */function () {\n  function VenteachatService(httpClient, userservice) {\n    this.httpClient = httpClient;\n    this.userservice = userservice;\n    this.API_URL = 'http://localhost:8089/Vente';\n  }\n  // addvente(formData: FormData) {\n  //   const headers = new HttpHeaders({\n  //     Authorization: `Bearer ${this.userservice.getToken()}`,\n  //   });\n  //   console.log(formData.get('file'))\n  //   return this.httpClient.post(`${this.API_URL}/addVente`, formData, { headers });\n  // }\n  VenteachatService.prototype.addVente = function (file, vente) {\n    var formData = new FormData();\n    formData.append('file', file);\n    formData.append('article', vente.article);\n    // formData.append('dateDisponibilite', vente.dateDisponibilite.toString());\n    formData.append('prix', vente.prix.toString());\n    formData.append('contactNumber', vente.contactNumber.toString());\n    formData.append('place', vente.place);\n    formData.append('typeVente', vente.typeVente.toString());\n    return this.httpClient.post(\"\".concat(this.API_URL, \"/addVente\"), formData);\n  };\n  VenteachatService.prototype.getAllvente = function () {\n    return this.httpClient.get(\"\".concat(this.API_URL, \"/getAllVentes\"));\n  };\n  VenteachatService.prototype.acceptVente = function (id) {\n    return this.httpClient.post(\"\".concat(this.API_URL, \"/accept/\").concat(id), null);\n  };\n  VenteachatService.prototype.getAcceptedVentes = function () {\n    return this.httpClient.get(\"\".concat(this.API_URL, \"/ventes/accepted\"));\n  };\n  VenteachatService.prototype.calculerCapaciteCredit = function (request, idvente) {\n    var httpOptions = {\n      headers: new HttpHeaders({\n        Authorization: \"Bearer \".concat(this.userservice.getToken())\n      }),\n      responseType: 'text'\n    };\n    var url = \"\".concat(this.API_URL, \"/credit/\").concat(idvente);\n    return this.httpClient.post(url, request, httpOptions);\n  };\n  VenteachatService.ɵfac = function VenteachatService_Factory(t) {\n    return new (t || VenteachatService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.UserService));\n  };\n  VenteachatService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: VenteachatService,\n    factory: VenteachatService.ɵfac,\n    providedIn: 'root'\n  });\n  return VenteachatService;\n}();\nexport { VenteachatService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}