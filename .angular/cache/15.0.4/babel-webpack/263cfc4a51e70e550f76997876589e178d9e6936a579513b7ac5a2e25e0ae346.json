{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { StorageService } from 'src/app/shared/Services/storage/storage.service';\nimport { VenteachatService } from 'src/app/shared/Services/venteachat/venteachat.service';\nvar VenteachatComponent = /** @class */function () {\n  function VenteachatComponent(venteachatservice, storageService) {\n    this.venteachatservice = venteachatservice;\n    this.storageService = storageService;\n    this.selectedFiles = [];\n    this.files = [];\n  }\n  VenteachatComponent.prototype.ngOnInit = function () {\n    this.venteachat = {\n      id: null,\n      article: null,\n      dateDisponibilite: null,\n      prix: null,\n      place: null,\n      typeVente: null,\n      user: this.storageService.getUser().id,\n      pictures: null\n    };\n  };\n  VenteachatComponent.prototype.addvente = function () {\n    var _this = this;\n    console.log(this.venteachat);\n    var formData = new FormData();\n    for (var i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('file', this.selectedFiles[i]);\n    }\n    formData.append('prix', this.venteachat.prix);\n    formData.append('prix', this.venteachat.prix);\n    console.log(formData.get('file'));\n    console.log(formData.get('article'));\n    console.log(formData.get('prix'));\n    this.venteachatservice.addvente(formData).subscribe(function (savedVente) {\n      _this.venteachat.user = _this.storageService.getUser().id;\n      console.log('Vente ajoutée avec succès', savedVente);\n      // do something with the saved Vente object\n    }, function (error) {\n      console.error(\"Erreur lors de l'ajout de la vente\", error);\n      // handle the error\n    });\n  };\n\n  VenteachatComponent.prototype.onFileSelected = function (event) {\n    this.selectedFiles = event.target.files;\n  };\n  VenteachatComponent = __decorate([Component({\n    selector: 'app-venteachat',\n    templateUrl: './venteachat.component.html',\n    styleUrls: ['./venteachat.component.scss']\n  }), __metadata(\"design:paramtypes\", [VenteachatService, StorageService])], VenteachatComponent);\n  return VenteachatComponent;\n}();\nexport { VenteachatComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}