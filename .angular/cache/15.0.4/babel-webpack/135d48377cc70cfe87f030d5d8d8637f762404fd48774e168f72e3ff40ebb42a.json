{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { StorageService } from '../shared/Services/storage/storage.service';\nimport { UserService } from '../shared/Services/user/user.service';\nvar HomeComponent = /** @class */function () {\n  function HomeComponent(userService, storageService, router, userservice) {\n    this.userService = userService;\n    this.storageService = storageService;\n    this.router = router;\n    this.userservice = userservice;\n    this.staticAlertClosed3 = false;\n    this.showModal = \"none\";\n    // form : UserModule;\n    this.isSuccessful = false;\n    this.isSignUpFailed = false;\n    this.errorMessage = '';\n    this.form = {\n      username: null,\n      email: null,\n      password: null\n    };\n    this.form1 = {\n      username: null,\n      password: null\n    };\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.roles = [];\n  }\n  HomeComponent.prototype.ngOnInit = function () {\n    if (this.storageService.isLoggedIn()) {\n      this.isLoggedIn = true;\n      this.roles = this.storageService.getUser().roles;\n    }\n  };\n  HomeComponent.prototype.openModal = function () {\n    this.showModal = \"block\";\n  };\n  HomeComponent.prototype.closeModal = function () {\n    this.showModal = \"none\";\n  };\n  // register\n  HomeComponent.prototype.onSubmit = function () {\n    var _this = this;\n    var _a = this.form,\n      username = _a.username,\n      email = _a.email,\n      password = _a.password;\n    this.userService.signup(username, email, password).subscribe({\n      next: function (data) {\n        console.log(data);\n        _this.isSuccessful = true;\n        _this.isSignUpFailed = false;\n      },\n      error: function (err) {\n        _this.errorMessage = err.error.message;\n        _this.isSignUpFailed = true;\n      }\n    });\n  };\n  //login \n  HomeComponent.prototype.login = function () {\n    var _this = this;\n    var _a = this.form1,\n      username = _a.username,\n      password = _a.password;\n    this.userService.signin(username, password).subscribe({\n      next: function (data) {\n        _this.storageService.saveUser(data);\n        _this.isLoginFailed = false;\n        _this.isLoggedIn = true;\n        _this.roles = _this.storageService.getUser().roles;\n        _this.router.navigate(['/dashboard']);\n      },\n      error: function (err) {\n        _this.errorMessage = err.error.message;\n        _this.isLoginFailed = true;\n      }\n    });\n  };\n  HomeComponent = __decorate([Component({\n    selector: 'app-home',\n    templateUrl: './home.component.html',\n    styleUrls: ['./home.component.scss']\n  }), __metadata(\"design:paramtypes\", [UserService, StorageService, Router, UserService])], HomeComponent);\n  return HomeComponent;\n}();\nexport { HomeComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}